{"filter":false,"title":"model.js","tooltip":"/VIMAT/js/model.js","undoManager":{"mark":4,"position":4,"stack":[[{"start":{"row":2,"column":0},"end":{"row":62,"column":0},"action":"remove","lines":["var VIMAT = VIMAT || {};","","// time tracker","var trackedTimes = [];","function TrackedTime(st, c) {","    // expects a JSON time/date string for st and a string for c","    this.startTime = st;","    this.endTime;","    this.compass = c;","}","function timeTrackerStatsForCompass() {","    var stats = [];","    for (var j in compassCategories) {","        var dt = new Date();","        var h = 'D ';","        var d = 0;","        var ds = 0;","        var w = 0;","        var m = 0;","        for (var i in trackedTimes) {","            if (trackedTimes[i].compass === compassCategories[j]) {","                if (dt - new Date(trackedTimes[i].startTime) < msInMonth) {","                    if (trackedTimes[i].endTime) {","                        m += (new Date(trackedTimes[i].endTime) - new Date(trackedTimes[i].startTime)) / 60000;","                    }","                    else {","                        m += (dt - new Date(trackedTimes[i].startTime)) / 60000;","                    }","                }","                if (dt - new Date(trackedTimes[i].startTime) < msInWeek) {","                    if (trackedTimes[i].endTime) {","                        w += (new Date(trackedTimes[i].endTime) - new Date(trackedTimes[i].startTime)) / 60000;","                    }","                    else {","                        w += (dt - new Date(trackedTimes[i].startTime)) / 60000;","                    }","                }","                if (dt - new Date(trackedTimes[i].startTime) < msInDay) {","                    if (trackedTimes[i].endTime) {","                        d += (new Date(trackedTimes[i].endTime) - new Date(trackedTimes[i].startTime)) / 60000;","                    }","                    else {","                        d += (dt - new Date(trackedTimes[i].startTime)) / 60000;","                    }","                }","            }","        }","        ds = (d - Math.floor(d)) * 60;","        if (ds < 10) {","            ds = '0' + Math.floor(ds).toString();","            h += Math.floor(d) + ':' + ds + ' / W ' + Math.floor(w) + ' / M ' + Math.floor(m);","        }","        else {","            h += Math.floor(d) + ':' + Math.floor(ds) + ' / W ' + Math.floor(w) + ' / M ' + Math.floor(m);","    ","        }","        stats[j] = h;","    }","    return stats;","}",""],"id":2}],[{"start":{"row":2,"column":0},"end":{"row":47,"column":0},"action":"remove","lines":["","// calendar","VIMAT.namespace(\"VIMAT.MODEL.CALENDAR\");","VIMAT.MODEL.CALENDAR.Event = function (d) {","    // *** Private Properties","    var description = d,","        date = '';","        ","    // *** Private Methods","    function getDescription() {","        return description;","    }","    function setDescription(d) {","        description = d;","    }","    function getDate() {","        return date;","    }","    function setDate (d) {","        date = d;","    }","    ","    // *** Public API","    return {","        getDescription:     getDescription,","        setDescription:     setDescription,","        getDate:            getDate,","        setDate:            setDate","    };","};","VIMAT.MODEL.CALENDAR.calendar = (function () {","    // *** Private Properties","    var arrayContent = [];","    ","    // *** Private Methods","    function addEvent(e) {","        arrayContent.push(e);","    }","    ","    // *** Public API","    return {","        addEvent:       addEvent","    };","}());","",""],"id":2}],[{"start":{"row":1,"column":0},"end":{"row":2,"column":0},"action":"remove","lines":["",""],"id":4}],[{"start":{"row":0,"column":0},"end":{"row":1,"column":0},"action":"remove","lines":["",""],"id":5}],[{"start":{"row":0,"column":0},"end":{"row":7,"column":0},"action":"remove","lines":["// Notes","function Note(description, content) {","    this.description = description;","    this.content = content;","    this.project = '';","}","var notes = [];",""],"id":6}]]},"ace":{"folds":[{"start":{"row":2,"column":21},"end":{"row":21,"column":0},"placeholder":"..."}],"scrolltop":705.9286470413208,"scrollleft":0,"selection":{"start":{"row":0,"column":0},"end":{"row":0,"column":0},"isBackwards":false},"options":{"guessTabSize":true,"useWrapMode":false,"wrapToView":true},"firstLineState":{"row":59,"state":"start","mode":"ace/mode/javascript"}},"timestamp":1449144259604,"hash":"cc89ee402642c8bce6617920042f7a0508504e18"}